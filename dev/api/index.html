<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Full API Documentation · Octofitter.jl</title><meta name="title" content="Full API Documentation · Octofitter.jl"/><meta property="og:title" content="Full API Documentation · Octofitter.jl"/><meta property="twitter:title" content="Full API Documentation · Octofitter.jl"/><meta name="description" content="Documentation for Octofitter.jl."/><meta property="og:description" content="Documentation for Octofitter.jl."/><meta property="twitter:description" content="Documentation for Octofitter.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="Octofitter.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">Octofitter.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../installation/">Installation</a></li><li><a class="tocitem" href="../quick-start/">Quick Start</a></li><li><a class="tocitem" href="../migration/">Migration Guide</a></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li><input class="collapse-toggle" id="menuitem-3-1" type="checkbox"/><label class="tocitem" for="menuitem-3-1"><span class="docs-label">Relative Astrometry</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../rel-astrom/">Basic Astrom Fit</a></li><li><a class="tocitem" href="../rel-astrom-obs/">Observable Priors</a></li><li><a class="tocitem" href="../fit-coplanar/">Resonant Co-Planar Model</a></li><li><a class="tocitem" href="../thiele-innes/">Thiele-Innes Parameters</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Radial Velocity</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../rv-1/">Basic RV Fit</a></li><li><a class="tocitem" href="../rv-gp/">Gaussian Process</a></li><li><a class="tocitem" href="../rv-multi-planet/">Multiple Planets</a></li><li><a class="tocitem" href="../fit-rv-rel/">Relative RV Data</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Absolute Astrometry</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../pma/">Proper Motion Anomaly</a></li><li><a class="tocitem" href="../hipparcos/">Hipparcos IAD</a></li><li><a class="tocitem" href="../gaia-iad/">Gaia DR4 IAD</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-4" type="checkbox"/><label class="tocitem" for="menuitem-3-4"><span class="docs-label">Images and More</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../images/">Image Data (de-orbiting)</a></li><li><a class="tocitem" href="../extract-phot-astrom/">Extract Astrom. and Photometry</a></li><li><a class="tocitem" href="../mass-photometry/">Connect Mass and Photometry</a></li><li><a class="tocitem" href="../fit-interfere/">Interferometer Data</a></li><li><a class="tocitem" href="../fit-likemap/">Likelihood Map</a></li><li><a class="tocitem" href="../fit-grav-wide/">GRAVITY Wide Data</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-5" type="checkbox"/><label class="tocitem" for="menuitem-3-5"><span class="docs-label">Joint Models</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../astrom-pma-rv/">Astrometry, PMA, and RV</a></li><li><a class="tocitem" href="../fit-rv-astrom/">RV and Relative Astrometry</a></li><li><a class="tocitem" href="../rv/">RV and Proper Motion Anomaly</a></li><li><a class="tocitem" href="../limits/">Calculate Detection Limits</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-6" type="checkbox"/><label class="tocitem" for="menuitem-3-6"><span class="docs-label">Bayesian Workflows</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../prior-pred/">Prior Predictive Checks</a></li><li><a class="tocitem" href="../post-pred/">Posterior Predictive Checks</a></li><li><a class="tocitem" href="../cross-validation/">Cross Validation</a></li><li><a class="tocitem" href="../sbc/">Simulation Based Calibration</a></li></ul></li></ul></li><li><span class="tocitem">Documentation</span><ul><li><a class="tocitem" href="../python/">Using Python</a></li><li><a class="tocitem" href="../chains/">Chains</a></li><li><a class="tocitem" href="../octoplot/">Orbit plots with <code>octoplot</code></a></li><li><a class="tocitem" href="../rvpostplot/">RV plots with <code>rvpostplot</code></a></li><li><a class="tocitem" href="../loading-saving/">Loading and Saving Data</a></li><li><a class="tocitem" href="../samplers/">Sampler</a></li><li><a class="tocitem" href="../parallel-sampling/">Distributed Sampling</a></li><li><a class="tocitem" href="../priors/">Priors</a></li><li><a class="tocitem" href="../derived/">Derived Variables</a></li><li><a class="tocitem" href="../custom-likelihood/">Custom Likelihoods</a></li><li><a class="tocitem" href="../kepler/">Kepler Solver</a></li><li><a class="tocitem" href="../compat-orbitize/">Orbitize! Compatibility</a></li><li class="is-active"><a class="tocitem" href>Full API Documentation</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Documentation</a></li><li class="is-active"><a href>Full API Documentation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Full API Documentation</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/sefffal/Octofitter.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/sefffal/Octofitter.jl/blob/main/docs/src/api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API-Documentation"><a class="docs-heading-anchor" href="#API-Documentation">API Documentation</a><a id="API-Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#API-Documentation" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Octofitter.@variables" href="#Octofitter.@variables"><code>Octofitter.@variables</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@variables begin
    [prior_1] ~ [UnivariateDistribution]
    [prior_2] ~ [UnivariateDistribution]
    calculation_3 = obs.[prior_1] + obs.[prior_2]
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sefffal/Octofitter.jl/blob/5edb421c14b31c12d8e4e68e19188073601670f8/src/macros.jl#L1-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Octofitter.Planet" href="#Octofitter.Planet"><code>Octofitter.Planet</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Planet([derived,] priors, [astrometry,], name=:symbol)</code></pre><p>A planet (or substellar companion) part of a model. Must be constructed with a block of priors, and optionally additional derived parameters and/or sastrometry. <code>name</code> must be a symbol, e.g. <code>:b</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sefffal/Octofitter.jl/blob/5edb421c14b31c12d8e4e68e19188073601670f8/src/variables.jl#L287-L294">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Octofitter.System" href="#Octofitter.System"><code>Octofitter.System</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">System([derived,] priors, [images,] [propermotionanom,] planets..., name=:symbol)</code></pre><p>Construct a model of a system. Must be constructed with a block of priors, and optionally additional derived parameters. You may provide <code>ProperMotionAnomLikelihood()</code> and/or <code>Images()</code> of the system. Finally, planet models are listed last. <code>name</code> must be a symbol e.g. <code>:HD56441</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sefffal/Octofitter.jl/blob/5edb421c14b31c12d8e4e68e19188073601670f8/src/variables.jl#L360-L369">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Octofitter.PlanetRelAstromLikelihood" href="#Octofitter.PlanetRelAstromLikelihood"><code>Octofitter.PlanetRelAstromLikelihood</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">data = Table(
    (epoch = 5000, ra = -505.7637580573554, dec = -66.92982418533026, σ_ra = 10, σ_dec = 10, cor=0),
    (epoch = 5050, ra = -505.7637580573554, dec = -66.92982418533026, σ_ra = 10, σ_dec = 10, cor=0),
    (epoch = 5100, ra = -505.7637580573554, dec = -66.92982418533026, σ_ra = 10, σ_dec = 10, cor=0),
)
PlanetRelAstromLikelihood(data)</code></pre><p>Represents a likelihood function of relative astometry between a host star and a secondary body. <code>:epoch</code> is a required column, in addition to either <code>:ra</code>, <code>:dec</code>, <code>:σ_ra</code>, <code>:σ_dec</code> or <code>:pa</code>, <code>:sep</code>, <code>:σ_pa</code>, <code>:σ_sep</code>. All units are in <strong>milliarcseconds</strong> or <strong>radians</strong> as appropriate.</p><p>In addition to the example above, any Tables.jl compatible source can be provided.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sefffal/Octofitter.jl/blob/5edb421c14b31c12d8e4e68e19188073601670f8/src/likelihoods/relative-astrometry.jl#L6-L19">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OctofitterRadialVelocity.StarAbsoluteRVLikelihood" href="#OctofitterRadialVelocity.StarAbsoluteRVLikelihood"><code>OctofitterRadialVelocity.StarAbsoluteRVLikelihood</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">StarAbsoluteRVLikelihood(
    (;epoch=5000.0,  rv=−6.54, σ_rv=1.30),
    (;epoch=5050.1,  rv=−3.33, σ_rv=1.09),
    (;epoch=5100.2,  rv=7.90,  σ_rv=.11);
    
    name=&quot;inst name&quot;,
    variables=@variables begin
        offset ~ Normal(0, 100)           # RV zero-point (m/s)
        jitter ~ LogUniform(0.1, 100.0)  # RV jitter (m/s)
    end
)

# Example with trend function and Gaussian Process:
StarAbsoluteRVLikelihood(
    (;epoch=5000.0,  rv=−6.54, σ_rv=1.30),
    (;epoch=5050.1,  rv=−3.33, σ_rv=1.09),
    (;epoch=5100.2,  rv=7.90,  σ_rv=.11);
    
    name=&quot;inst name&quot;,
    trend_function = (θ_obs, epoch) -&gt; θ_obs.trend_slope * (epoch - 57000),  # Linear trend
    gaussian_process = θ_obs -&gt; GP(θ_obs.gp_η₁^2 * SqExponentialKernel() ∘ ScaleTransform(1/θ_obs.gp_η₂)),
    variables=@variables begin
        offset ~ Normal(0, 100)             # RV zero-point (m/s)
        jitter ~ LogUniform(0.1, 100.0)    # RV jitter (m/s)
        trend_slope ~ Normal(0, 1)          # Linear trend slope (m/s/day)
        gp_η₁ ~ LogUniform(1.0, 100.0)      # GP amplitude
        gp_η₂ ~ LogUniform(1.0, 100.0)      # GP length scale
    end
)</code></pre><p>Represents a likelihood function of absolute radial velocity of a host star. <code>:epoch</code> (mjd), <code>:rv</code> (m/s), and <code>:σ_rv</code> (m/s) are all required.</p><p>In addition to the example above, any Tables.jl compatible source can be provided.</p><p>The <code>offset</code> and <code>jitter</code> variables should be defined in the variables block and represent the  RV zero-point and additional uncertainty to be added in quadrature to the formal measurement errors.</p><p>When using a trend function, it should be a function that takes <code>θ_obs</code> (observation parameters)  and <code>epoch</code> and returns an RV offset. Trend parameters should be defined in the variables block.</p><p>When using a Gaussian process, the <code>gaussian_process</code> parameter should be a function that takes <code>θ_obs</code> (observation parameters) and returns a GP kernel. GP hyperparameters should be defined in the variables block and accessed via <code>θ_obs.parameter_name</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sefffal/Octofitter.jl/blob/5edb421c14b31c12d8e4e68e19188073601670f8/OctofitterRadialVelocity/src/rv-absolute.jl#L4-L49">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OctofitterRadialVelocity.PlanetRelativeRVLikelihood" href="#OctofitterRadialVelocity.PlanetRelativeRVLikelihood"><code>OctofitterRadialVelocity.PlanetRelativeRVLikelihood</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">PlanetRelativeRVLikelihood(
    (;epoch=5000.0,  rv=−6.54, σ_rv=1.30),
    (;epoch=5050.1,  rv=−3.33, σ_rv=1.09),
    (;epoch=5100.2,  rv=7.90,  σ_rv=.11);
    
    name=&quot;inst name&quot;,
    variables=@variables begin
        jitter ~ LogUniform(0.1, 100.0)  # RV jitter (m/s)
    end
)

# Example with Gaussian Process:
PlanetRelativeRVLikelihood(
    (;epoch=5000.0,  rv=−6.54, σ_rv=1.30),
    (;epoch=5050.1,  rv=−3.33, σ_rv=1.09),
    (;epoch=5100.2,  rv=7.90,  σ_rv=.11);
    
    name=&quot;inst name&quot;,
    gaussian_process = θ_obs -&gt; GP(θ_obs.gp_η₁^2 * SqExponentialKernel() ∘ ScaleTransform(1/θ_obs.gp_η₂)),
    variables=@variables begin
        jitter ~ LogUniform(0.1, 100.0)     # RV jitter (m/s)
        gp_η₁ ~ LogUniform(1.0, 100.0)      # GP amplitude
        gp_η₂ ~ LogUniform(1.0, 100.0)      # GP length scale
    end
)</code></pre><p>Represents a likelihood function of relative radial velocity between a host star and a secondary body. <code>:epoch</code> (mjd), <code>:rv</code> (m/s), and <code>:σ_rv</code> (m/s) are all required.</p><p>In addition to the example above, any Tables.jl compatible source can be provided.</p><p>The <code>jitter</code> variable should be defined in the variables block and represents additional  uncertainty to be added in quadrature to the formal measurement errors.</p><p>When using a Gaussian process, the <code>gaussian_process</code> parameter should be a function that takes <code>θ_obs</code> (observation parameters) and returns a GP kernel. GP hyperparameters should be defined in the variables block and accessed via <code>θ_obs.parameter_name</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sefffal/Octofitter.jl/blob/5edb421c14b31c12d8e4e68e19188073601670f8/OctofitterRadialVelocity/src/rv-relative.jl#L1-L39">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Octofitter.PhotometryLikelihood" href="#Octofitter.PhotometryLikelihood"><code>Octofitter.PhotometryLikelihood</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">data = Table(
    (phot=15.0, σ_phot=3.0),
    (phot=14.8, σ_phot=0.5),
)
PhotometryLikelihood(
    data,
    name=&quot;INSTRUMENT&quot;,
    variables=@variables begin
        flux ~ Uniform(0, 10)
    end
)</code></pre><p>A likelihood for comparing measured photometry points in a single filter band to data (provided here). Requires the <code>:phot</code> and <code>:σ_phot</code> columns. Can be provided with any Tables.jl compatible data source.</p><p>For multiple bands, create separate PhotometryLikelihood objects.</p><p>The flux variable should be defined in the <code>variables</code> block rather than  in the planet definition. This can be derived from physical models that  take planet mass and other system parameters as input.</p><p>The <code>name</code> is used for variable naming in the chain output.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sefffal/Octofitter.jl/blob/5edb421c14b31c12d8e4e68e19188073601670f8/src/likelihoods/photometry.jl#L5-L29">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Octofitter.HGCALikelihood" href="#Octofitter.HGCALikelihood"><code>Octofitter.HGCALikelihood</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">HGCALikelihood(;
    gaia_id=1234,
    variables=@variables begin
        fluxratio ~ [Uniform(0, 1), Uniform(0, 1)]  # array for each companion
    end
)</code></pre><p>Model Hipparcos-Gaia Catalog of Accelerations (Brandt et al) data using a full model of the Gaia and Hipparcos measurement process and linear models.</p><p>The <code>fluxratio</code> variable should be an array containing the flux ratio of each companion in the same order as the planets in the system.</p><p>Upon first load, you will be prompted to accept the download of the eDR3 version of the HGCA catalog.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sefffal/Octofitter.jl/blob/5edb421c14b31c12d8e4e68e19188073601670f8/src/likelihoods/hgca-linfit.jl#L10-L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Octofitter.ObsPriorAstromONeil2019" href="#Octofitter.ObsPriorAstromONeil2019"><code>Octofitter.ObsPriorAstromONeil2019</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ObsPriorAstromONeil2019(astrometry_likelihood, period_prior)</code></pre><p>Given a an astrometry likelihood (<code>PlanetRelAstromLikelihood</code>), apply the &quot;observable based priors&quot; of K. O&#39;Neil 2019 &quot;Improving Orbit Estimates for Incomplete Orbits with a New Approach to Priors: with Applications from Black Holes to Planets&quot;.</p><p>This prior correction is only correct if you supply Uniform priors on  all Campbell orbital parameters and a Uniform prior on Period (not semi-major axis). This period prior has a significant impact in the fit and recommendations for its range were not published in the original paper.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">astrom_like = PlanetRelAstromLikelihood(astrom_table)

# Apply observable based priors ontop of our uniform Campbell priors:
obs_prior = ObsPriorAstromONeil2019(astrom_like)

# The astrometry lieklihood object is passed as a first parameter
# since the obserable-based priors depend on the observation 
# epochs.

@planet b Visual{KepOrbit} begin
    # Instead of a prior on sma
    # a ~ Uniform(0.001, 10000)

    # Put a prior on period:
	P ~ Uniform(0.001, 2000) # yrs
    a = cbrt(system.M * b.P^2)

    # Keep sine prior on inclination
    i ~ Sine()

    # Rest are uniform
    e ~ Uniform(0.0, 1.0)
    ω ~ UniformCircular()
    Ω ~ UniformCircular()
    τ ~ UniformCircular(1.0)
end astrom_like obs_prior</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sefffal/Octofitter.jl/blob/5edb421c14b31c12d8e4e68e19188073601670f8/src/likelihoods/prior-observable.jl#L12-L55">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Octofitter.Sine" href="#Octofitter.Sine"><code>Octofitter.Sine</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Sine()</code></pre><p>A custom univariate distribution. The pdf is a sine function defined between 0 and π. This is a common prior distribution used when fitting orbits to astrometry.</p><p>The full Distributions.jl interface is not yet defined for this distribution, but the following methods work: pdf, logpdf, minimum, maximum, insupport, mean, var, cdf, quantile</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sefffal/Octofitter.jl/blob/5edb421c14b31c12d8e4e68e19188073601670f8/src/distributions.jl#L3-L13">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanetOrbits.mjd" href="#PlanetOrbits.mjd"><code>PlanetOrbits.mjd</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mjd(&quot;2020-01-01&quot;)</code></pre><p>Get the modfied julian day of a date, or in general a UTC timestamp.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sefffal/PlanetOrbits.jl/blob/v0.11.0/src/time.jl#L6-L11">source</a></section><section><div><pre><code class="language-julia hljs">mjd(Date(&quot;2020-01-01&quot;))</code></pre><p>Get the modfied julian day of a Date or DateTime object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sefffal/PlanetOrbits.jl/blob/v0.11.0/src/time.jl#L19-L23">source</a></section><section><div><pre><code class="language-julia hljs">mjd()</code></pre><p>Get the current modified julian day of right now.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sefffal/PlanetOrbits.jl/blob/v0.11.0/src/time.jl#L32-L36">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanetOrbits.years2mjd" href="#PlanetOrbits.years2mjd"><code>PlanetOrbits.years2mjd</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">years2mjd()</code></pre><p>Convert from decimal years (e.g. 1995.25) into modified julian date, rounded to closest second</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sefffal/PlanetOrbits.jl/blob/v0.11.0/src/time.jl#L47-L52">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Octofitter.gaia_plx" href="#Octofitter.gaia_plx"><code>Octofitter.gaia_plx</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">gaia_plx(gaia_id=12123)</code></pre><p>Get a distribution (truncated Normal) of parallax distance in mas of a source with  GAIA catalog id <code>gaia_id</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sefffal/Octofitter.jl/blob/5edb421c14b31c12d8e4e68e19188073601670f8/src/likelihoods/hgca.jl#L4-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Octofitter.advancedhmc" href="#Octofitter.advancedhmc"><code>Octofitter.advancedhmc</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>The method signature of Octofitter.hmc is as follows:</p><pre><code class="nohighlight hljs">chain = advancedhmc(
    [rng::Random.AbstractRNG],
    model::Octofitter.LogDensityModel
    target_accept::Number=0.8,
    adaptation=1000,
    iterations=1000,
    drop_warmup=true,
    max_depth=12,
)</code></pre><p>Sample from the posterior defined by <code>model</code> using Hamiltonian Monte Carlo with  the No U-Turn Sampler from AdvancedHMC.jl.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sefffal/Octofitter.jl/blob/5edb421c14b31c12d8e4e68e19188073601670f8/src/sampling.jl#L164-L179">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanetOrbits.Visual" href="#PlanetOrbits.Visual"><code>PlanetOrbits.Visual</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Visual{OrbitType}(..., plx=...)</code></pre><p>This wraps another orbit to add the parallax distance field <code>plx</code>, thus allowing projected quantities to be calculated. It forwards everything else to the parent orbit.</p><p>For example, the KepOrbit type supports calculating x and y positions in AU. A Visual{KepOrbit} additionally supports calculating projected right ascension and declination offsets.</p><div class="admonition is-info" id="Note-a84a3aeb0e197d4c"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-a84a3aeb0e197d4c" title="Permalink"></a></header><div class="admonition-body"><p>The <code>ThieleInnesOrbit</code> type does not need to be wrapped in <code>Visual</code> as it the Thiele-Innes constants are already expressed in milliarcseconds and thus it always requires a <code>plx</code> value.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sefffal/PlanetOrbits.jl/blob/v0.11.0/src/orbit-visual.jl#L23-L38">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanetOrbits.AbsoluteVisual" href="#PlanetOrbits.AbsoluteVisual"><code>PlanetOrbits.AbsoluteVisual</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbsoluteVisual{OrbitType}(..., ref_epoch=, ra=, dec=, plx=, rv=, pmra=, pmdec=)</code></pre><p>This wraps another orbit object to add parallax, proper motion, and RV fields, at a given reference epoch. </p><p>Like a Visual{OrbitType} this allows for calculating projected quantities, eg. separation in milliarcseconds.</p><p>What this type additionally does is correct for the star&#39;s 3D motion through space (RV and proper motion) and differential light travel-time compared to a reference epoch when calculating various quantities.  This becomes necessary when computing eg. RVs over a long time period.</p><p>ra        : degrees dec       : degrees parallax  : mas pmra      : mas/yr pmdec     : mas/yr rv        : m/s ref_epoch : years</p><p>TODO: account for viewing angle differences and differential light travel time between a planet and its host.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sefffal/PlanetOrbits.jl/blob/v0.11.0/src/orbit-absolute.jl#L40-L64">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanetOrbits.RadialVelocityOrbit" href="#PlanetOrbits.RadialVelocityOrbit"><code>PlanetOrbits.RadialVelocityOrbit</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RadialVelocityOrbit(a, e, ω, tp, M)</code></pre><p>Represents an orbit of a planet with only the information retrievable from radial velocity measurements. That is, without inclination, longitude of ascending node, or distance to the system.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sefffal/PlanetOrbits.jl/blob/v0.11.0/src/orbit-radvel.jl#L1-L8">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Octofitter.sonora_photometry_interpolator" href="#Octofitter.sonora_photometry_interpolator"><code>Octofitter.sonora_photometry_interpolator</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sonora_photometry_interpolator(:Keck_L′, [metalicity=&quot;+0.0&quot;])</code></pre><p>Given a supported photometric band and [M/H] metalicity (default=solar), return a function of temperature (K) and mass (M_jup) that gives the  absolute magnitude of the planet in that bandpass.</p><p>Supported bands: :MKO<em>Y, :MKO</em>Z, :MKO<em>J, :MKO</em>H, :MKO<em>K, :MKO</em>L′, :MKO<em>M′, :TwoMASS</em>J, :TwoMASS<em>H, :TwoMASS</em>Ks, :Keck<em>Ks, :Keck</em>L′, :Keck<em>Ms, :SDSS</em>g′, :SDSS<em>r′, :SDSS</em>i′, :SDSS<em>z′, :IRAC</em>36, :IRAC<em>45, :IRAC</em>57, :IRAC<em>79, :WISE</em>W1, :WISE<em>W2, :WISE</em>W3, :WISE_W4</p><p>Supported metalicities: &quot;+0.0&quot;, &quot;-0.5&quot;, &quot;+0.5&quot;</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sefffal/Octofitter.jl/blob/5edb421c14b31c12d8e4e68e19188073601670f8/src/sonora.jl#L9-L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Octofitter.sonora_cooling_interpolator" href="#Octofitter.sonora_cooling_interpolator"><code>Octofitter.sonora_cooling_interpolator</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">itp = sonora_cooling_interpolator()</code></pre><p>Create a function mapping (age<em>Myr, mass</em>Mjup) -&gt; temp_K using Sonora Bobcat cooling model grids.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sefffal/Octofitter.jl/blob/5edb421c14b31c12d8e4e68e19188073601670f8/src/sonora.jl#L65-L72">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Octofitter.plotchains" href="#Octofitter.plotchains"><code>Octofitter.plotchains</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plotchains(
    chain, planet_key;
    N=1500,
    ii = rand(1:size(chain,1)*size(chain,3), N),
    color=length(model.system.planets) == 0 || !haskey(chain, string(planet_key)*&quot;_a&quot;) ? nothing : string(planet_key)*&quot;_a&quot;,
    colorbartitle=color,
    clims=nothing,
    cmap=:plasma,
    alpha=30/length(ii),
    attime=nothing,
    kwargs...,
)</code></pre><p>Draw samples from a posterior chain for a given planet given by name <code>planet_key</code> and visualize them in some way. Use <code>kind</code> to control what plot is made. A few options: :astrometry, :radvel, :trueanom, :meananom, :eccanom, :x, :y, :z, (:x, :y), :raoff, :decoff, :pmra, :pmdec, :accra, :accdec, :radvel, :posangle, :projectedseparation. See PlanetOrbits documentation for more details.</p><p>Inputs:</p><ul><li>chain                   The chain to draw from</li><li>planet_key              Planet name in the model (symbol)</li><li>N=1500                  Number of samples to draw for the plot </li><li>kind=nothing            Specify what kind of plot to make. </li><li>ii=...                  Specific row numbers to use, if you want to e.g. plot the same 100 samples in a few different plots</li><li>color=&quot;planet<em>key</em>a&quot;   Column name to to map colors to. Semi-major axis by default but can be any column or an arbitrary array.</li><li>colorbartitle=color     Name for colourbar</li><li>clims=nothing           Tuple of colour limits (min and max)</li><li>cmap=:plasma            Colormap</li><li>alpha=...               Transparency of the lines</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sefffal/Octofitter.jl/blob/5edb421c14b31c12d8e4e68e19188073601670f8/src/analysis.jl#L60-L89">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Octofitter.projectpositions" href="#Octofitter.projectpositions"><code>Octofitter.projectpositions</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">projectpositions(model, chains.planets[1], mjd(&quot;2020-02-02&quot;))</code></pre><p>Given the posterior for a particular planet in the model and a modified julian date(s), return <code>ra</code> and <code>dec</code> offsets in mas for each sampling in the posterior.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sefffal/Octofitter.jl/blob/5edb421c14b31c12d8e4e68e19188073601670f8/src/analysis.jl#L5-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Octofitter.octofit" href="#Octofitter.octofit"><code>Octofitter.octofit</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">octofit(
    [rng::Random.AbstractRNG],
    model::Octofitter.LogDensityModel
    target_accept::Number=0.8,
    ensemble::AbstractMCMC.AbstractMCMCEnsemble=MCMCSerial();
    adaptation,
    iterations,
    drop_warmup=true,
    max_depth=12,
    initial_samples= pathfinder ? 500 : 250_000,  # deprecated
    initial_parameters=nothing, # deprecated
    step_size=nothing,
    verbosity=2,
)</code></pre><p>Sample from the posterior defined by <code>model</code> using Hamiltonian Monte Carlo with  the No U-Turn Sampler from AdvancedHMC.jl.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sefffal/Octofitter.jl/blob/5edb421c14b31c12d8e4e68e19188073601670f8/src/sampling.jl#L121-L139">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Octofitter.octofit_pigeons" href="#Octofitter.octofit_pigeons"><code>Octofitter.octofit_pigeons</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">using Pigeons
octofit_pigeons(model; nrounds, n_chains=16, n_chains_variational=16)</code></pre><p>Use Pigeons.jl to sample from intractable posterior distributions. <code>Pigeons</code> must be loaded by the user.</p><pre><code class="language-julia hljs">using Pigeons
model = Octofitter.LogDensityModel(System, autodiff=:ForwardDiff, verbosity=4)
chain, pt = octofit_pigeons(model)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sefffal/Octofitter.jl/blob/5edb421c14b31c12d8e4e68e19188073601670f8/src/Octofitter.jl#L92-L104">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Octofitter.initialize!" href="#Octofitter.initialize!"><code>Octofitter.initialize!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">initialize!(model::LogDensityModel, fixed_params=nothing; kwargs...)</code></pre><p>Initialize the model with optional fixed parameters provided as a named tuple. Fixed parameters will be held constant during optimization and sampling.</p><p>The <code>fixed_params</code> can include:</p><ul><li>System-level variables: <code>(; plx=24.4, pmra=10.2, ...)</code></li><li>Planet variables: <code>(; planets=(; b=(; a=1.5, e=0.1, ...), ...))</code>  </li><li>Observation variables: <code>(; observations=(; ObsName=(; var1=val1, var2=val2, ...), ...))</code></li></ul><p>Example:</p><pre><code class="language-julia hljs">init_chain = initialize!(model, (;
    plx=24.4,
    pmra=10.2,
    planets=(;
        b=(;
            a=1.5,
            e=0.1,
        )
    ),
    observations=(;
        GaiaRV=(;
            offset_gaiarv=-50.0,
            jitter_gaiarv=0.1,
        ),
        GaiaDR4=(;
            astrometric_jitter=0.05,
        )
    )
))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sefffal/Octofitter.jl/blob/5edb421c14b31c12d8e4e68e19188073601670f8/src/initialization.jl#L110-L143">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Octofitter.savechain" href="#Octofitter.savechain"><code>Octofitter.savechain</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Octofitter.savechain(&quot;saved-chain.fits&quot;, chain)</code></pre><p>Save an MCMCChain to a FITS file binary table.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sefffal/Octofitter.jl/blob/5edb421c14b31c12d8e4e68e19188073601670f8/src/io.jl#L15-L19">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Octofitter.loadchain" href="#Octofitter.loadchain"><code>Octofitter.loadchain</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Octofitter.loadchain(&quot;saved-chain.fits&quot;)</code></pre><p>Load an MCMCChain from a FITS file binary table.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sefffal/Octofitter.jl/blob/5edb421c14b31c12d8e4e68e19188073601670f8/src/io.jl#L84-L88">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../compat-orbitize/">« Orbitize! Compatibility</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.13.0 on <span class="colophon-date" title="Saturday 28 June 2025 20:22">Saturday 28 June 2025</span>. Using Julia version 1.10.9.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
